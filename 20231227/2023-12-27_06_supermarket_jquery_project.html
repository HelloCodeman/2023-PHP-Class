<!DOCTYPE html>
<html lang="en">

<head>
  <title>Shop</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</head>
<style>
  * {
    align-items: center;
    text-align: center;
    margin: auto;
  }

  table,
  thead,
  tr,
  th,
  td {
    border: 1px black solid;
  }

  th {
    background-color: rgb(138, 235, 157);
  }

  td {
    width: 15vw;
  }

  table:hover {
    box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  }

  header {
    text-align: center;
    align-items: center;
  }

  h1 {
    width: 70vw;
    position: relative;
    /* 調整此值以微調位置 */
    text-align: center;
    color: rgba(138, 235, 157);
    font-style: italic;
    scale: 1.7;
    text-shadow: 2px 1px 2px rgba(0, 0, 0);
  }

  h1:hover {
    color: rgb(123, 242, 4);
    font-style: italic;
    scale: 1.7;
    text-shadow: 2px 1px 2px rgba(0, 0, 0);
  }

  h3 {
    position: relative;
    right: 290px;
    /* 調整此值以微調位置 */
    text-align: right;
    /* 如果需要右對齊文字 */
  }

  h3:hover {
    text-shadow: 1px 1px 0px #190b0b;
    font-style: italic;
    color: #ff0000;
  }
</style>

<body>
  <header>
    <h1 style="font-family: fantasy;margin: 0;margin-top: 30px;margin-bottom: 10px;">TaiShan Supermarket</h1>
    <h3 style="font-family: fantasy;margin: 0;margin-bottom: 5px;">滿 5000 結帳自動打 8 折</h3>
  </header>

  <div class="container">
    <table style="width: 70vw;">
      <thead>
        <tr>
          <th>產品</th>
          <th>價格</th>
          <th>數量</th>
          <th>小計</th>
        </tr>
      </thead>
      <tbody>
        <td>
          福袋1
          <br>
          <img src="https://picsum.photos/id/952/115/115" alt="" style="margin-bottom:5px;">
        </td>
        <td>
          <input type="number" name="" id="item1Price" class="form-control" value="100"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item1Number" class="form-control" value="1"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item1Total" class="form-control" value="100"
            style="width: 240px;margin: auto;">
        </td>
      </tbody>
      <tbody>
        <td>
          福袋2
          <br>
          <img src="https://picsum.photos/id/403/115/115" alt="" style="margin-bottom:5px;">
        </td>
        <td>
          <input type="number" name="" id="item2Price" class="form-control" value="150"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item2Number" class="form-control" value="1"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item2Total" class="form-control" value="150"
            style="width: 240px;margin: auto;">
        </td>
      </tbody>
      <tbody>
        <td>
          福袋3
          <br>
          <img src="https://picsum.photos/id/739/115/115" alt="" style="margin-bottom:5px;">
        </td>
        <td>
          <input type="number" name="" id="item3Price" class="form-control" value="200"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item3Number" class="form-control" value="1"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item3Total" class="form-control" value="200"
            style="width: 240px;margin: auto;">
        </td>
      </tbody>
      <tbody>
        <td>
          福袋4
          <br>
          <img src="https://picsum.photos/id/345/115/115" alt="" style="margin-bottom:5px;">
        </td>
        <td>
          <input type="number" name="" id="item4Price" class="form-control" value="50"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item4Number" class="form-control" value="1"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item4Total" class="form-control" value="50"
            style="width: 240px;margin: auto;">
        </td>
      </tbody>
      <tbody>
        <td>
          福袋5
          <br>
          <img src="https://picsum.photos/id/355/115/115" alt="" style="margin-bottom:5px;">
        </td>
        <td>
          <input type="number" name="" id="item5Price" class="form-control" value="500"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item5Number" class="form-control" value="1"
            style="width: 240px;margin: auto;">
        </td>
        <td>
          <input type="number" name="" id="item5Total" class="form-control" value="500"
            style="width: 240px;margin: auto;">
        </td>
      </tbody>
      <tbody>
        <td>
          <p style="margin: auto;font-weight: bolder;">總計</p>
        </td>
        <td colspan="2">
          <span id="resultSpan"></span>
        </td>
        <td>
          <button class="btn btn-primary" type="button" id="myBtn">總計</button>
        </td>
      </tbody>
    </table>
  </div>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"
    integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g=="
    crossorigin="anonymous" referrerpolicy="no-referrer"></script>

  <script>
    $(function () {
      function item1Fun() {
        let getItem1Price = Number(item1Price.val());
        let getItem1Number = Number(item1Number.val());
        let resultItem1Total = getItem1Price * getItem1Number;
        item1Total.val(resultItem1Total);
      }

      function item2Fun() {
        let getItem2Price = Number(item2Price.val());
        let getItem2Number = Number(item2Number.val());
        let resultItem2Total = getItem2Price * getItem2Number;
        item2Total.val(resultItem2Total);
      }

      function item3Fun() {
        let getItem3Price = Number(item3Price.val());
        let getItem3Number = Number(item3Number.val());
        let resultItem3Total = getItem3Price * getItem3Number;
        item3Total.val(resultItem3Total);
      }

      function item4Fun() {
        let getItem4Price = Number(item4Price.val());
        let getItem4Number = Number(item4Number.val());
        let resultItem4Total = getItem4Price * getItem4Number;
        item4Total.val(resultItem4Total);
      }

      function item5Fun() {
        let getItem5Price = Number(item5Price.val());
        let getItem5Number = Number(item5Number.val());
        let resultItem5Total = getItem5Price * getItem5Number;
        item5Total.val(resultItem5Total);
      }

      const item1Price = $('#item1Price');
      const item1Number = $('#item1Number');
      const item1Total = $('#item1Total');
      const item2Price = $('#item2Price');
      const item2Number = $('#item2Number');
      const item2Total = $('#item2Total');
      const item3Price = $('#item3Price');
      const item3Number = $('#item3Number');
      const item3Total = $('#item3Total');
      const item4Price = $('#item4Price');
      const item4Number = $('#item4Number');
      const item4Total = $('#item4Total');
      const item5Price = $('#item5Price');
      const item5Number = $('#item5Number');
      const item5Total = $('#item5Total');
      const myBtn = $('#myBtn');
      const resultSpan = $('#resultSpan');

      // item1
      item1Price.change(function (e) {
        item1Fun();
      });
      item1Number.change(function (e) {
        item1Fun();
      });

      // item2
      item2Price.change(function (e) {
        item2Fun();
      });
      item2Number.change(function (e) {
        item2Fun();
      });

      // item3
      item3Price.change(function (e) {
        item3Fun();
      });
      item3Number.change(function (e) {
        item3Fun();
      });

      // item4
      item4Price.change(function (e) {
        item4Fun();
      });
      item4Number.change(function (e) {
        item4Fun();
      });

      // item5
      item5Price.change(function (e) {
        item5Fun();
      });
      item5Number.change(function (e) {
        item5Fun();
      });

      // myBtn
      myBtn.click(function (e) {
        let getItem1Total = Number(item1Total.val());
        let getItem2Total = Number(item2Total.val());
        let getItem3Total = Number(item3Total.val());
        let getItem4Total = Number(item4Total.val());
        let getItem5Total = Number(item5Total.val());
        let sum = getItem1Total + getItem2Total + getItem3Total + getItem4Total + getItem5Total;
        if (sum > 5000) {  // 滿5000打8折
          sum = sum * 0.8;
        }
        console.log('sum', sum);
        resultSpan.text(sum);
      });

    });

  </script>
</body>

</html>